<?xml version="1.0" encoding="UTF-8"?>
<rules
    xmlns="http://namespaces.plone.org/diazo"
    xmlns:css="http://namespaces.plone.org/diazo/css"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

  <!-- Rules applying to standard Plone pages -->
  <rules css:if-content="#visual-portal-wrapper">

    <theme href="index.html" />

    <!-- Copy standard header tags, including base (very important for
         Plone default pages to work correctly), meta, title and
         style sheets/scripts, in the order they appear in the content.
    -->
    <drop theme="/html/head/meta" />
    <drop theme="/html/head/title" />
    <drop theme="/html/head/base" />
    <drop theme="/html/head/style" />
    <drop theme="/html/head/script" />
    <drop theme="/html/head/link" />
    <drop theme="/html/head/comment()" />

    <after content="/html/head/meta" theme-children="/html/head" />
    <after content="/html/head/title" theme-children="/html/head" />

    <after
        content="/html/head/base | /html/head/style | /html/head/script | /html/head/link | /html/head/comment()"
        theme-children="/html/head"
        />

    <replace css:content="#portal-logo" css:theme="#portal-logo" />
    <replace css:content="#portal-globalnav" css:theme="#portal-globalnav" />
    <replace css:content="#portal-searchbox" css:theme="#portal-searchbox" />

    <replace css:content-children="#portal-breadcrumbs" css:theme-children="#portal-breadcrumbs" />
    <drop css:content="#portal-breadcrumbs" />

    <replace css:content-children="#portal-column-one" css:theme-children="#column-navigation" />
    <replace css:content-children="#portal-column-content" css:theme-children="#column-content" />
    <replace css:content-children="#portal-column-two" css:theme-children="#column-sidebar" />

    <replace css:content="div.to_top" css:theme="div.to_top" method="raw" />
    <drop css:content="div.to_top" />

    <!-- make content bigger if there is no navigation column -->
    <rules if-content="not(//*[@id='portal-column-one'])">
      <drop css:theme="#column-navigation" />
      <before css:theme-children="#column-content">
        <xsl:attribute name="class">cell width-12 position-0</xsl:attribute>
      </before>
    </rules>



    <replace css:content="#viewlet-below-content" css:theme="#viewlet-below-content" />

    <replace css:content="#egov-footer" css:theme-children="#footer" />


  </rules>
</rules>
